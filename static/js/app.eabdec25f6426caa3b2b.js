webpackJsonp([2],{M93x:function(e,n,t){"use strict";var i={name:"App",created:function(){window.addEventListener("online",this.updateOnlineStatus),window.addEventListener("offline",this.updateOnlineStatus)},methods:{updateOnlineStatus:function(e){var n,t,i,a;this.networkNotify&&!this.networkNotify.closed&&(console.log(this.networkNotify),this.networkNotify.close()),console.log(e),"offline"==e.type?(t="网络异常",n="网络异常，请检测网络后重试。",i=0,a="warning"):(t="网络恢复正常",n="网络恢复正常，感谢使用！",a="success",i=2200),this.networkNotify=this.$notify({title:t,message:n,type:a,duration:i})}},beforeDestroy:function(){window.removeEventListener("online",this.updateOnlineStatus),window.removeEventListener("offline",this.updateOnlineStatus)}},a={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var s=t("VU/8")(i,a,!1,function(e){t("N7uq")},null,null);n.a=s.exports},N7uq:function(e,n){},NHnr:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_vue__=__webpack_require__("lRwf"),__WEBPACK_IMPORTED_MODULE_0_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__),__WEBPACK_IMPORTED_MODULE_1__App__=__webpack_require__("M93x"),__WEBPACK_IMPORTED_MODULE_2__router__=__webpack_require__("YaEn"),__WEBPACK_IMPORTED_MODULE_3_vue_resource__=__webpack_require__("f/Qh"),__WEBPACK_IMPORTED_MODULE_3_vue_resource___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vue_resource__),__WEBPACK_IMPORTED_MODULE_4_element_ui__=__webpack_require__("l6IN"),__WEBPACK_IMPORTED_MODULE_4_element_ui___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_element_ui__),VueClipboard=__webpack_require__("wvfG");function env(){return window.location.href.startsWith("http://localhost")?"development":"production"}function disableDebug(){window.onkeydown=window.onkeyup=window.onkeypress=function(e){123===e.keyCode&&(e.preventDefault(),window.event.returnValue=!1)}}__WEBPACK_IMPORTED_MODULE_0_vue___default.a.config.productionTip=!1,__WEBPACK_IMPORTED_MODULE_0_vue___default.a.config.debug=!0,__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(__WEBPACK_IMPORTED_MODULE_4_element_ui___default.a),__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(__WEBPACK_IMPORTED_MODULE_3_vue_resource___default.a),__WEBPACK_IMPORTED_MODULE_0_vue___default.a.use(VueClipboard);var threshold=160;function disableDebugInterval(){(window.outerWidth-window.innerWidth>threshold||window.outerHeight-window.innerHeight>threshold)&&(window.location.hash="#/404"),setTimeout(function(){eval("!function(){debugger}()")},interval)}"production"==env()&&disableDebug();var interval=1e3;setInterval(function(){"production"==env()&&disableDebugInterval()},interval),new __WEBPACK_IMPORTED_MODULE_0_vue___default.a({el:"#app",router:__WEBPACK_IMPORTED_MODULE_2__router__.a,components:{App:__WEBPACK_IMPORTED_MODULE_1__App__.a},template:"<App/>"})},Qcuv:function(e,n){},YaEn:function(e,n,t){"use strict";var i=t("lRwf"),a=t.n(i),s=t("pRNm"),o=t.n(s),r={name:"shixun",props:{shixun:Object},methods:{onImgError:function(e){var n=e.srcElement;n.src="https://ali-cdn.educoder.net/images/educoder/index/shixun/shixun"+n.dataset.id%24+".jpg"},enterShixun:function(e){}},mounted:function(){}},l={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"shixun-card"},[t("router-link",{attrs:{tag:"a",target:"_blank",to:{name:"shixuns.$",params:{identifier:e.shixun.identifier}}}},[t("div",{staticClass:"card-img-wrp"},[t("img",{staticClass:"card-img",attrs:{src:"https://ali-cdn.educoder.net/"+e.shixun.pic,alt:"实训图片","data-id":e.shixun.id},on:{error:function(n){return e.onImgError()}}})]),e._v(" "),t("div",{staticClass:"card-name"},[e._v("\n      "+e._s(e.shixun.name)+"\n    ")])])],1)},staticRenderFns:[]};var u=t("VU/8")(r,l,!1,function(e){t("xNwE")},"data-v-e0b2af02",null).exports,c=t("//Fk"),d=t.n(c),h=t("pFYg"),_=t.n(h);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,t=e.data,i=e.config,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"==_()(arguments[0])?(s=t,o=i):n=arguments[0],new d.a(function(e,t){var i=(o||{}).method,r=void 0===i?"post":i;if("get"==(r=r.toLowerCase()))var l={params:{name:n,data:s}};else l={name:n,data:s};a.a.http[r]("https://edaser-re5fv-1302719275.ap-shanghai.app.tcloudbase.com/api",l).then(function(i){if(console.debug("callApi "+n+", status:"+i.data.status,i.data.data),i.data.status<0||i.data.status>100){var a=new Error(i.data.message);t(a)}else e(i.data)}).catch(function(e){t(e)})})}var g={created:function(){var e=this.$route.query,n=e.page,t=void 0===n?1:n,i=e.keyword;this.page=t,this.keyword=i,console.log(i),this.getShixuns({page:t,keyword:i})},watch:{onlyShowUnlock:function(e,n){this.getShixuns({page:1,keyword:this.keyword})}},methods:{requestUnlock:function(){var e=this;this.$prompt("示例:\nwww.educoder.net/shixuns/uznmbg54/challenges","请输入实训网址",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/www.educoder.net\/shixuns\/([^\/]+)/,inputErrorMessage:"链接格式不正确",closeOnClickModal:!1}).then(function(n){console.log(n);var t=n.value.match(/www.educoder.net\/shixuns\/([^\/]+)/);if(console.log(t),t){var i=t[1];console.log(i);var a=e.$message({message:"后台解锁中，请耐心排队等待",iconClass:"el-icon-loading"});e.$http.post("/api/shixuns/"+i+"/answers/unlock").then(function(n){var t=n.data;console.log(t),0==t.status?e.$router.push({name:"shixun",params:{identifier:i}}):(e.$notify({type:"warning",title:"提示",message:t.message}),-2==t.status&&e.$alert("后台账号金币不足，暂时无法解锁该答案 >_< 。\n解锁请求已记录并开始排队等待解锁，当后台账号积攒到一定量金币后会解锁该实训答案","提示"))}).catch(function(e){}).finally(function(e){a.close()})}else e.$notify({type:"warning",title:"警告",message:"解析链接失败"})}).catch(function(e){console.warn(e)})},showInputLink:function(){var e=this;this.$prompt("示例:\nwww.educoder.net/shixuns/uznmbg54/challenges","请输入实训网址",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/www.educoder.net\/shixuns\/([^\/]+)/,inputErrorMessage:"链接格式不正确",closeOnClickModal:!1}).then(function(n){console.log(n);var t=n.value.match(/www.educoder.net\/shixuns\/([^\/]+)/);if(console.log(t),t){var i=t[1];console.log(i);var a=e.$message({message:"查询中...",iconClass:"el-icon-loading"});e.$http.get("/api/shixuns/"+i+"/exists").then(function(n){var t=n.data;console.log(t),t.data?window.open("/shixuns/"+i):e.$notify({type:"warning",title:"提示",message:t.message||"该实训的答案暂未收录😭"})}).catch(function(e){}).finally(function(e){a.close()})}else e.$notify({type:"warning",title:"警告",message:"解析链接失败"})}).catch(function(e){console.warn(e)})},getShixuns:function(e){var n=this,t=e.page;e.keyword;t=parseInt(t);this.loading=!0,this.onlyShowUnlock&&t>10||!this.onlyShowUnlock&&t>12?setTimeout(function(){n.shixuns=[];var e={page:t};n.$router.replace({query:e}),n.page=t,n.loading=!1},800):this.onlyShowUnlock?f({name:"shixuns",data:{page:t,per_page:12}}).then(function(e){n.shixuns=e.data.shixuns,console.log(n.shixuns);var i={page:t};n.page=t,n.$router.replace({query:i}),console.log("replace route")}).catch(function(e){console.error(e)}).finally(function(){n.loading=!1}):f({name:"shixuns",data:{page:t,per_page:12}}).then(function(e){n.shixuns=e.data.shixuns,n.page=t;var i={page:t};n.$router.replace({query:i})}).finally(function(){n.loading=!1})},search:function(){console.log(this.keyword),this.getShixuns({keyword:this.keyword,page:1})},changePage:function(e){var n=e.delta;console.log("changePage");var t=this.page,i=void 0===t?1:t,a=this.keyword;console.log({page:i,keyword:a});var s=parseInt(i)+n;console.log(s),s<=0||this.getShixuns({page:s,keyword:a})},lastPage:function(){this.page<=1||this.changePage({delta:-1})},nextPage:function(){this.shixuns.length<12||this.changePage({delta:1})}},components:{shixun:u},data:function(){return{title:"实训列表",shixun_link:"",dialogVisible:!1,page:1,loading:!1,keyword:"",shixuns:[],onlyShowUnlock:!1}}},p={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._e(),e._v(" "),t("div",{staticClass:"main-body"},[t("img",{class:["arrow",e.page<=1?"disable":""],attrs:{src:"/static/images/arrow.jpg",alt:"上一页"},on:{click:e.lastPage}}),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"shixun-list"},e._l(e.shixuns,function(e){return t("shixun",{key:e.id,attrs:{shixun:e}})}),1),e._v(" "),t("img",{class:["arrow","right",e.shixuns.length<12?"disable":""],attrs:{src:"/static/images/arrow.jpg",alt:"下一页"},on:{click:e.nextPage}})]),e._v(" "),0!=e.shixuns.length||e.loading?e._e():t("div",{staticClass:"no-data"},[t("div",[e._v("很抱歉，没有更多相关实训了")])]),e._v(" "),t("div",{staticClass:"bottom-nav"},[t("span",{class:["nav-item",e.page<=1?"disable":""],on:{click:e.lastPage}},[e._v("上一页")]),e._v(" "),t("span",[e._v("第"+e._s(e.page)+"页")]),e._v(" "),t("span",{class:["nav-item",e.shixuns.length<12?"disable":""],on:{click:e.nextPage}},[e._v("下一页")])])])},staticRenderFns:[]};var v=t("VU/8")(g,p,!1,function(e){t("rHzw")},"data-v-75566c92",null).exports,m={created:function(){var e=this.$route.params.identifier;this.identifier=e,this.refresh()},methods:{refresh:function(){var e=this;this.loading=!0,f({name:"shixun",data:{identifier:this.identifier}}).then(function(n){e.shixun=n.data.shixun,e.challenge_list=n.data.challenge_list,e.loading=!1,document.title=e.shixun.name+" | 实训笔记"}).catch(function(n){e.loading=!1})},getAnalysis:function(e){var n=this,t=localStorage.getItem("challenge.subscribe.email")||"";console.log(t),e=parseInt(e),this.$prompt("实训笔记将会通过邮件传递给您","请输入邮箱",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:t||"",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then(function(t){var i=t.value;console.log("email为",i),localStorage.setItem("challenge.subscribe.email",i),f({name:"challenge.subscribe",data:{challenge_id:e,email:i}}).then(function(e){0==e.status&&n.$confirm("信息已提交成功，请耐心等待","提示",{confirmButtonText:"确定",type:"success",showCancelButton:!1})})}).catch(function(){})}},data:function(){return{loading:!1,identifier:"",challenge_list:[],title:"关卡列表",shixun:{}}}},w={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.shixun.name?t("h1",[e._v(e._s(e.shixun.name)+"\n    "),t("el-link",{attrs:{target:"_blank",type:"primary",href:"https://www.educoder.net/shixuns/"+e.identifier+"/challenges"}},[e._v("\n      打开实训\n      "),t("i",{staticClass:"el-icon-view el-icon--right"})])],1):e._e(),e._v(" "),t("h2",[e._v(e._s(e.title))]),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.challenge_list?t("div",e._l(e.challenge_list,function(n){return t("div",{key:n.challenge_id,staticClass:"challenge-wrp"},[t("div",{staticClass:"challenge-item"},[t("i",{staticClass:"el-icon-circle-check"}),e._v(" "),t("span",[e._v("第"+e._s(n.position)+"关："+e._s(n.name))])]),e._v(" "),t("el-button",{staticClass:"operation",attrs:{type:"primary"},on:{click:function(t){return e.getAnalysis(n.challenge_id)}}},[e._v("\n            获取实训笔记\n        ")])],1)}),0):e._e()])])},staticRenderFns:[]};t("VU/8")(m,w,!1,function(e){t("Qcuv")},"data-v-4e3ea1c8",null).exports;var x=t("BO1k"),y=t.n(x),C={name:"challenge",components:{MarkdownPreview:function(){return t.e(0).then(t.bind(null,"KK/Z"))}},data:function(){return{menuConfig:{width:"240px",backgroundColor:"#545c64",textColor:"#fff",activeTextColor:"#ffd04b",uniqueOpened:!1},markdownConfig:{copyCode:!1},routeType:"",menuLoading:!1,analysisLoading:!1,path:{},stages:[],shixuns:[],analysis:{},currentChallengeId:0,currentShixunIdentifier:""}},created:function(){var e=this;console.log("Chalenge created");var n=this.$route.params,t=n.path_id,i=n.identifier,a=n.challenge_id;console.info("params",this.$route.params),t=parseInt(t),a=parseInt(a),console.info({path_id:t,identifier:i,challenge_id:a}),this.$route.params.hasOwnProperty("path_id")?this.routeType="path":(this.routeType="shixun",this.currentShixunIdentifier=i),a&&(this.currentChallengeId=a,this.refreshAnalysisData(a)),this.refreshMenu({path_id:t,identifier:i}).then(function(n){e.currentChallengeId||(e.currentChallengeId=e.getDefaultChallengeId(),e.refreshRoute(),e.refreshAnalysisData())})},methods:{onMarkdownSelectStart:function(e){return this.markdownConfig.copyCode},onCopyCode:function(e){var n=this;this.markdownConfig.copyCode&&this.$copyText(e).then(function(e){n.$notify({type:"success",message:"复制成功"}),console.info("success")})},onMenuSelect:function(e,n){var t=parseInt(e),i=n[0];console.info("select menu",{identifier:i,challenge_id:t}),t!=this.currentChallengeId&&(this.currentChallengeId=t,this.currentShixunIdentifier=i,this.refreshAnalysisData(),this.refreshRoute())},refreshRoute:function(){return console.info("refreshRoute",this.routeType,{identifier:this.currentShixunIdentifier,challenge_id:this.currentChallengeId}),"path"==this.routeType?this.$router.replace({name:"paths.$.challenges.$",params:{path_id:this.path.id,challenge_id:this.currentChallengeId}}):this.$router.replace({name:"shixuns.$.challenges.$",params:{identifier:this.currentShixunIdentifier,challenge_id:this.currentChallengeId}})},refreshMenu:function(e){var n=this,t=e.path_id,i=e.identifier;return this.menuLoading=!0,(t=parseInt(t))||(t=this.path.id),"path"==this.routeType?f("path",{id:t,t:322},{method:"get"}).then(function(e){var t=e.data,i=t.id,a=t.member_count,s=t.name,o=t.stages;return n.path={id:i,member_count:a,name:s},n.stages=o,n.menuLoading=!1,e.data}):f("shixunsByIdentifier",{identifier:i},{method:"get"}).then(function(e){return n.shixuns=e.data.shixuns,n.menuLoading=!1,e.data})},refreshAnalysisData:function(e){var n=this;this.analysisLoading=!0,e||(e=this.currentChallengeId),this.getAnalysisData(e).then(function(e){n.analysis=e.data}).catch(function(e){var t=e.message;console.info(t),n.analysis.content="\n# 该关卡暂无笔记\n        "}).finally(function(){n.analysisLoading=!1})},getAnalysisData:function(e){return f("analysis",{challenge_id:e=parseInt(e)},{method:"get"})},getDefaultChallengeId:function(){if("path"==this.routeType){var e=this.stages,n=!0,t=!1,i=void 0;try{for(var a,s=y()(e);!(n=(a=s.next()).done);n=!0){var o=a.value,r=!0,l=!1,u=void 0;try{for(var c,d=y()(o.shixuns);!(r=(c=d.next()).done);r=!0){var h=c.value,_=!0,f=!1,g=void 0;try{for(var p,v=y()(h.challenges);!(_=(p=v.next()).done);_=!0){return p.value.id}}catch(e){f=!0,g=e}finally{try{!_&&v.return&&v.return()}finally{if(f)throw g}}}}catch(e){l=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(l)throw u}}}}catch(e){t=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(t)throw i}}}else{var m=this.shixuns,w=this.currentShixunIdentifier,x=!0,C=!1,E=void 0;try{for(var k,b=y()(m);!(x=(k=b.next()).done);x=!0){if((h=k.value).identifier==w){var I=!0,P=!1,M=void 0;try{for(var D,O=y()(h.challenges);!(I=(D=O.next()).done);I=!0){return D.value.id}}catch(e){P=!0,M=e}finally{try{!I&&O.return&&O.return()}finally{if(P)throw M}}}}}catch(e){C=!0,E=e}finally{try{!x&&b.return&&b.return()}finally{if(C)throw E}}}return 0},getPreChallengeId:function(){},getNextChallengeId:function(){}}},E={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-container",{staticClass:"container"},[t("el-container",[t("el-aside",{directives:[{name:"loading",rawName:"v-loading",value:e.menuLoading,expression:"menuLoading"}],style:{background:e.menuConfig.backgroundColor},attrs:{width:e.menuConfig.width}},["path"==e.routeType?t("el-menu",{staticClass:"side-menu",attrs:{"background-color":e.menuConfig.backgroundColor,"text-color":e.menuConfig.textColor,"active-text-color":e.menuConfig.activeTextColor,"unique-opened":e.menuConfig.uniqueOpened,mode:"vertical",collapse:!1,"default-active":e.currentChallengeId},on:{select:e.onMenuSelect}},[t("div",{staticStyle:{padding:"10px","font-weight":"bold","font-size":"14px","text-align":"left"}},[t("span",{staticStyle:{color:"white"}},[e._v(e._s(e.path.name))])]),e._v(" "),e._l(e.stages,function(n){return t("el-menu-item-group",{key:n.position,attrs:{title:n.name}},e._l(n.shixuns,function(n){return t("el-submenu",{key:n.identifier,attrs:{index:n.identifier}},[t("template",{slot:"title"},[t("span",[e._v(e._s(n.name))])]),e._v(" "),e._l(n.challenges,function(n){return t("el-menu-item",{key:n.id,attrs:{index:n.id}},[t("span",[e._v(e._s("第"+n.position+"关:"+n.name))])])})],2)}),1)})],2):t("el-menu",{staticClass:"side-menu",attrs:{"background-color":e.menuConfig.backgroundColor,"text-color":e.menuConfig.textColor,"active-text-color":e.menuConfig.activeTextColor,"unique-opened":e.menuConfig.uniqueOpened,mode:"vertical",collapse:!1,"default-active":e.currentChallengeId},on:{select:e.onMenuSelect}},[t("div",{staticStyle:{padding:"10px","font-weight":"bold","font-size":"14px","text-align":"left"}},[t("span",{staticStyle:{color:"white"}},[e._v("实训列表")])]),e._v(" "),e._l(e.shixuns,function(n){return t("el-submenu",{key:n.identifier,attrs:{index:n.identifier}},[t("template",{slot:"title"},[t("span",[e._v(e._s(n.name))])]),e._v(" "),e._l(n.challenges,function(n){return t("el-menu-item",{key:n.id,attrs:{index:n.id}},[t("span",[e._v(e._s("第"+n.position+"关:"+n.name))])])})],2)})],2)],1),e._v(" "),t("el-main",[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.analysisLoading,expression:"analysisLoading"}],staticStyle:{height:"100%"}},[t("div",{class:{"no-copy":!e.markdownConfig.copyCode},attrs:{onselectstart:"return "+e.markdownConfig.copyCode}},[t("MarkdownPreview",{attrs:{initialValue:e.analysis.content,copyCode:e.markdownConfig.copyCode},on:{"on-copy":e.onCopyCode}}),e._v(" "),t("Markdown")],1)])])],1)],1)},staticRenderFns:[]};var k=t("VU/8")(C,E,!1,function(e){t("qUPD")},"data-v-246f32a2",null).exports,b={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("404 NOT FOUND")])},staticRenderFns:[]},I=t("VU/8")({},b,!1,null,null,null).exports;a.a.use(o.a);n.a=new o.a({routes:[{path:"/",name:"index",redirect:{name:"shixuns"}},{path:"/shixuns",name:"shixuns",component:v},{path:"/shixuns/:identifier",name:"shixuns.$",component:k},{path:"/shixuns/:identifier/challenges",name:"shixuns.$.challenges",component:k},{path:"/shixuns/:identifier/challenges/:challenge_id",name:"shixuns.$.challenges.$",component:k},{path:"/paths/:path_id/challenges",name:"paths.$.challenges",component:k},{path:"/paths/:path_id/challenges/:challenge_id",name:"paths.$.challenges.$",component:k},{path:"/404",name:"404",component:I},{path:"*",redirect:{name:"404"}}]})},"f/Qh":function(e,n){e.exports=VueResource},l6IN:function(e,n){e.exports=ELEMENT},lRwf:function(e,n){e.exports=Vue},pRNm:function(e,n){e.exports=VueRouter},qUPD:function(e,n){},rHzw:function(e,n){},xNwE:function(e,n){}},["NHnr"]);