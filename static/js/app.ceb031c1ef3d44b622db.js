webpackJsonp([1],{"6ZYr":function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("lRwf"),i=t.n(a),s=t("//Fk"),o=t.n(s);function r(e){var n=e.name,t=e.data;return new o.a(function(e,a){i.a.http.post("https://edaser-re5fv-1302719275.ap-shanghai.app.tcloudbase.com/api",{name:n,data:t}).then(function(t){if(console.debug("callApi "+n+", status:"+t.data.status,t.data.data),t.data.status<0||t.data.status>100){var i=new Error(t.data.message);a(i)}else e(t.data)}).catch(function(e){a(e)})})}var c={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var l=t("VU/8")({name:"App",created:function(){}},c,!1,function(e){t("VPg6")},null,null).exports,u=t("pRNm"),h=t.n(u),d={name:"shixun",props:{shixun:Object},methods:{onImgError:function(e){var n=e.srcElement;n.src="https://ali-cdn.educoder.net/images/educoder/index/shixun/shixun"+n.dataset.id%24+".jpg"}},mounted:function(){}},g={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"shixun-card"},[t("router-link",{attrs:{tag:"a",target:"_blank",to:{name:"shixun",params:{identifier:e.shixun.identifier}}}},[t("div",{staticClass:"card-img-wrp"},[t("img",{staticClass:"card-img",attrs:{src:"https://ali-cdn.educoder.net/"+e.shixun.pic,alt:"å®žè®­å›¾ç‰‡","data-id":e.shixun.id},on:{error:function(n){return e.onImgError()}}})]),e._v(" "),t("div",{staticClass:"card-name"},[e._v("\n      "+e._s(e.shixun.name)+"\n    ")])])],1)},staticRenderFns:[]};var p={created:function(){var e=this.$route.query,n=e.page,t=void 0===n?1:n,a=e.keyword;this.page=t,this.keyword=a,console.log(a),this.getShixuns({page:t,keyword:a})},watch:{onlyShowUnlock:function(e,n){this.getShixuns({page:1,keyword:this.keyword})}},methods:{requestUnlock:function(){var e=this;this.$prompt("ç¤ºä¾‹:\nwww.educoder.net/shixuns/uznmbg54/challenges","è¯·è¾“å…¥å®žè®­ç½‘å€",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",inputPattern:/www.educoder.net\/shixuns\/([^\/]+)/,inputErrorMessage:"é“¾æŽ¥æ ¼å¼ä¸æ­£ç¡®",closeOnClickModal:!1}).then(function(n){console.log(n);var t=n.value.match(/www.educoder.net\/shixuns\/([^\/]+)/);if(console.log(t),t){var a=t[1];console.log(a);var i=e.$message({message:"åŽå°è§£é”ä¸­ï¼Œè¯·è€å¿ƒæŽ’é˜Ÿç­‰å¾…",iconClass:"el-icon-loading"});e.$http.post("/api/shixuns/"+a+"/answers/unlock").then(function(n){var t=n.data;console.log(t),0==t.status?e.$router.push({name:"shixun",params:{identifier:a}}):(e.$notify({type:"warning",title:"æç¤º",message:t.message}),-2==t.status&&e.$alert("åŽå°è´¦å·é‡‘å¸ä¸è¶³ï¼Œæš‚æ—¶æ— æ³•è§£é”è¯¥ç­”æ¡ˆ >_< ã€‚\nè§£é”è¯·æ±‚å·²è®°å½•å¹¶å¼€å§‹æŽ’é˜Ÿç­‰å¾…è§£é”ï¼Œå½“åŽå°è´¦å·ç§¯æ”’åˆ°ä¸€å®šé‡é‡‘å¸åŽä¼šè§£é”è¯¥å®žè®­ç­”æ¡ˆ","æç¤º"))}).catch(function(e){}).finally(function(e){i.close()})}else e.$notify({type:"warning",title:"è­¦å‘Š",message:"è§£æžé“¾æŽ¥å¤±è´¥"})}).catch(function(e){console.warn(e)})},showInputLink:function(){var e=this;this.$prompt("ç¤ºä¾‹:\nwww.educoder.net/shixuns/uznmbg54/challenges","è¯·è¾“å…¥å®žè®­ç½‘å€",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",inputPattern:/www.educoder.net\/shixuns\/([^\/]+)/,inputErrorMessage:"é“¾æŽ¥æ ¼å¼ä¸æ­£ç¡®",closeOnClickModal:!1}).then(function(n){console.log(n);var t=n.value.match(/www.educoder.net\/shixuns\/([^\/]+)/);if(console.log(t),t){var a=t[1];console.log(a);var i=e.$message({message:"æŸ¥è¯¢ä¸­...",iconClass:"el-icon-loading"});e.$http.get("/api/shixuns/"+a+"/exists").then(function(n){var t=n.data;console.log(t),t.data?window.open("/shixuns/"+a):e.$notify({type:"warning",title:"æç¤º",message:t.message||"è¯¥å®žè®­çš„ç­”æ¡ˆæš‚æœªæ”¶å½•ðŸ˜­"})}).catch(function(e){}).finally(function(e){i.close()})}else e.$notify({type:"warning",title:"è­¦å‘Š",message:"è§£æžé“¾æŽ¥å¤±è´¥"})}).catch(function(e){console.warn(e)})},getShixuns:function(e){var n=this,t=e.page;e.keyword;t=parseInt(t);this.loading=!0,this.onlyShowUnlock&&t>10||!this.onlyShowUnlock&&t>12?setTimeout(function(){n.shixuns=[];var e={page:t};n.$router.replace({query:e}),n.page=t,n.loading=!1},800):this.onlyShowUnlock?r({name:"shixuns",data:{page:t,per_page:12}}).then(function(e){n.shixuns=e.data.shixuns,console.log(n.shixuns);var a={page:t};n.page=t,n.$router.replace({query:a}),console.log("replace route")}).catch(function(e){console.error(e)}).finally(function(){n.loading=!1}):r({name:"shixuns",data:{page:t,per_page:12}}).then(function(e){n.shixuns=e.data.shixuns,n.page=t;var a={page:t};n.$router.replace({query:a})}).finally(function(){n.loading=!1})},search:function(){console.log(this.keyword),this.getShixuns({keyword:this.keyword,page:1})},changePage:function(e){var n=e.delta;console.log("changePage");var t=this.page,a=void 0===t?1:t,i=this.keyword;console.log({page:a,keyword:i});var s=parseInt(a)+n;console.log(s),s<=0||this.getShixuns({page:s,keyword:i})},lastPage:function(){this.page<=1||this.changePage({delta:-1})},nextPage:function(){this.shixuns.length<12||this.changePage({delta:1})}},components:{shixun:t("VU/8")(d,g,!1,function(e){t("Sj3z")},"data-v-e4a65e98",null).exports},data:function(){return{title:"å®žè®­åˆ—è¡¨",shixun_link:"",dialogVisible:!1,page:1,loading:!1,keyword:"",shixuns:[],onlyShowUnlock:!1}}},f={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._e(),e._v(" "),t("div",{staticClass:"main-body"},[t("img",{class:["arrow",e.page<=1?"disable":""],attrs:{src:"/static/images/arrow.jpg",alt:"ä¸Šä¸€é¡µ"},on:{click:e.lastPage}}),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"shixun-list"},e._l(e.shixuns,function(e){return t("shixun",{key:e.id,attrs:{shixun:e}})}),1),e._v(" "),t("img",{class:["arrow","right",e.shixuns.length<12?"disable":""],attrs:{src:"/static/images/arrow.jpg",alt:"ä¸‹ä¸€é¡µ"},on:{click:e.nextPage}})]),e._v(" "),0!=e.shixuns.length||e.loading?e._e():t("div",{staticClass:"no-data"},[t("div",[e._v("å¾ˆæŠ±æ­‰ï¼Œæ²¡æœ‰æ›´å¤šç›¸å…³å®žè®­äº†")])]),e._v(" "),t("div",{staticClass:"bottom-nav"},[t("span",{class:["nav-item",e.page<=1?"disable":""],on:{click:e.lastPage}},[e._v("ä¸Šä¸€é¡µ")]),e._v(" "),t("span",[e._v("ç¬¬"+e._s(e.page)+"é¡µ")]),e._v(" "),t("span",{class:["nav-item",e.shixuns.length<12?"disable":""],on:{click:e.nextPage}},[e._v("ä¸‹ä¸€é¡µ")])])])},staticRenderFns:[]};var v=t("VU/8")(p,f,!1,function(e){t("rHzw")},"data-v-75566c92",null).exports,m={created:function(){var e=this.$route.params.identifier;this.identifier=e,this.refresh()},methods:{refresh:function(){var e=this;this.loading=!0,r({name:"shixun",data:{identifier:this.identifier}}).then(function(n){e.shixun=n.data.shixun,e.challenge_list=n.data.challenge_list,e.loading=!1}).catch(function(n){e.loading=!1})},getAnalysis:function(e){var n=this,t=localStorage.getItem("challenge.subscribe.email")||"";console.log(t),e=parseInt(e),this.$prompt("é¢˜è§£å°†ä¼šé€šè¿‡é‚®ä»¶ä¼ é€’ç»™æ‚¨","è¯·è¾“å…¥é‚®ç®±",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",inputValue:t||"",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"}).then(function(t){var a=t.value;console.log("emailä¸º",a),localStorage.setItem("challenge.subscribe.email",a),r({name:"challenge.subscribe",data:{challenge_id:e,email:a}}).then(function(e){0==e.status&&n.$confirm("ä¿¡æ¯å·²æäº¤æˆåŠŸï¼Œè¯·è€å¿ƒç­‰å¾…","æç¤º",{confirmButtonText:"ç¡®å®š",type:"success",showCancelButton:!1})})}).catch(function(){})}},data:function(){return{loading:!1,identifier:"",challenge_list:[],title:"å…³å¡åˆ—è¡¨",shixun:{}}}},w={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.shixun.name?t("h1",[e._v(e._s(e.shixun.name)+"\n    "),t("el-link",{attrs:{target:"_blank",type:"primary",href:"https://www.educoder.net/shixuns/"+e.identifier+"/challenges"}},[e._v("\n      æ‰“å¼€å®žè®­\n      "),t("i",{staticClass:"el-icon-view el-icon--right"})])],1):e._e(),e._v(" "),t("h2",[e._v(e._s(e.title))]),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.challenge_list?t("div",e._l(e.challenge_list,function(n){return t("div",{key:n.challenge_id,staticClass:"challenge-wrp"},[t("div",{staticClass:"challenge-item"},[t("i",{staticClass:"el-icon-circle-check"}),e._v(" "),t("span",[e._v("ç¬¬"+e._s(n.position)+"å…³ï¼š"+e._s(n.name))])]),e._v(" "),t("el-button",{staticClass:"operation",attrs:{type:"primary"},on:{click:function(t){return e.getAnalysis(n.challenge_id)}}},[e._v("\n            èŽ·å–é¢˜è§£ \n        ")])],1)}),0):e._e()])])},staticRenderFns:[]};var x=t("VU/8")(m,w,!1,function(e){t("6ZYr")},"data-v-bffc9d44",null).exports;i.a.use(h.a);var _=new h.a({routes:[{path:"/",name:"index",redirect:{name:"shixuns"}},{path:"/shixun/:identifier",name:"shixun",component:x},{path:"/shixuns",name:"shixuns",component:v}]}),y=t("f/Qh"),k=t.n(y);i.a.config.productionTip=!1,i.a.use(k.a),new i.a({el:"#app",router:_,components:{App:l},template:"<App/>"})},Sj3z:function(e,n){},VPg6:function(e,n){},"f/Qh":function(e,n){e.exports=VueResource},lRwf:function(e,n){e.exports=Vue},pRNm:function(e,n){e.exports=VueRouter},rHzw:function(e,n){}},["NHnr"]);